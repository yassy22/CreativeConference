---
import Layout from "../layouts/Layout.astro";
import PlayersList from "../components/cards/players/PlayersList.astro";
import Filterrol from "../components/filters/Filterrol.astro";
import fetchApi from "../lib/strapi";



const players = await fetchApi({
  endpoint: "players",
  wrappedByKey: "data",
  query: { populate: ["players", "group", "rol", "image"] },
});

const groups = await fetchApi({
  endpoint: "groups",
  wrappedByKey: "data",
  query: { populate: ["players"] },
});

const rols = await fetchApi({
  endpoint: "rols",
  wrappedByKey: "data",
  query: { populate: ["rols"] },
});

console.log(groups);
console.log(rols);
---

<Layout>
 
  <Filterrol rols={rols}  groups={groups}/>


  <PlayersList players={players} showCategory={false} />
</Layout>
